<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Get statistics — getStatistics • cellengine</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Get statistics — getStatistics"><meta property="og:description" content="Retrieves statistics from FCS files, returning the results as a data frame."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cellengine</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get statistics</h1>
    
    <div class="hidden name"><code>getStatistics.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Retrieves statistics from FCS files, returning the results as a data frame.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">getStatistics</span><span class="op">(</span></span>
<span>  <span class="va">experimentId</span>,</span>
<span>  fcsFileIds <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  fcsFiles <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  channels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">statistics</span>,</span>
<span>  <span class="va">compensationId</span>,</span>
<span>  populationIds <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  populations <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  scaleSetId <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  q <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  percentOf <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  includeAnnotations <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>experimentId</dt>
<dd><p>ID of experiment.</p></dd>


<dt>fcsFileIds</dt>
<dd><p>IDs of FCS files. If specified, do not specify <code>fcsFiles</code>.</p></dd>


<dt>fcsFiles</dt>
<dd><p>Names of FCS files. An attempt will be made to find the files
by name. If zero or more than one file exists with a given filename, an
error will be thrown. If specified, do not specify <code>fcsFileIds</code>.</p></dd>


<dt>channels</dt>
<dd><p>Names of channels (for statistic types "mean", "median",
"quantile", "stddev", "cv" and "mad"). Use channel short names, not reagents.</p></dd>


<dt>statistics</dt>
<dd><p>Statistics to export. Valid options: "mean", "median",
"quantile", "stddev", "cv", "eventcount", "percent", "mad".</p></dd>


<dt>compensationId</dt>
<dd><p>Compensation to apply. May be an ID,
<code><a href="UNCOMPENSATED.html">cellengine::UNCOMPENSATED</a></code> or <code><a href="FILE_INTERNAL.html">cellengine::FILE_INTERNAL</a></code>.</p></dd>


<dt>populationIds</dt>
<dd><p>IDs of populations. If specified, do not specify
<code>populations</code>.</p></dd>


<dt>populations</dt>
<dd><p>Names of populations. An attempt will be made to find the
population by name. If zero or more than one population exists with the
name, an error will be thrown. If specified, do not specify
<code>populationIds</code>.</p></dd>


<dt>scaleSetId</dt>
<dd><p>Optional ID of scale set. If omitted and if a single
scale set exists in the experiment, that scale set will be used.</p></dd>


<dt>q</dt>
<dd><p>Quantile to calculate for "quantile" statistic, in the range 0 to 1.</p></dd>


<dt>percentOf</dt>
<dd><p>Single population ID or name, or list of population IDs or
  names the same length as <code>populationIds</code> parameter.</p>
<p></p><ul><li><p>If omitted or the string "PARENT", then the percent of parent will
      be calculated for each population.</p></li>
<li><p>If a single ID or name is provided, then the percent of that
       population will be calculated for each population specified in
       <code>populations</code> or <code>populationIds</code> (useful for calculating
       e.g. percent of singlets or leukocytes).</p></li>
<li><p>If an array of IDs or names is provided, then the percent of each
       of those populations will be calculated.</p></li>
</ul><p>In the latter two cases, if a name or list of names instead of IDs are
  provided, an attempt will be made to find those populations by name. IDs
  are detected as matching a 24-character string comprised of the characters
  <code>A-Fa-f0-9</code>.</p></dd>


<dt>includeAnnotations</dt>
<dd><p>Includes FCS file annotations in the returned data
frame.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Statistics as a data frame, including file annotations and
  information about the statistics such as the channel name and population.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The quick syntax accepts FCS files and populations by names. This is often
easier to use, but is slower to execute because additional API requests and
validation logic must be run. Thus, for performance-critical applications,
provide IDs instead of names in the <code>fcsFileIds</code>, <code>populationIds</code>
and <code>percentOf</code> parameters. IDs are also guaranteed to reference unique
files and populations, while names may be non-unique, in which case an error
will be raised.
Specify neither <code>fcsFileIds</code> nor fcsFiles to calculate statistics for
all non-control FCS files.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># Quick syntax, using population names and file names instead of IDs:</span></span></span>
<span class="r-in"><span><span class="va">fcsFiles</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"file1.fcs"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">channels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SSC-A"</span>, <span class="st">"YG780/60-A"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">statistics</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"median"</span>, <span class="st">"mean"</span>, <span class="st">"quantile"</span>, <span class="st">"percent"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">populations</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Leukocytes"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">stats</span> <span class="op">&lt;-</span> <span class="fu">getStatistics</span><span class="op">(</span><span class="va">experimentId</span>,</span></span>
<span class="r-in"><span>  fcsFiles <span class="op">=</span> <span class="va">fcsFiles</span>, channels <span class="op">=</span> <span class="va">channels</span>,</span></span>
<span class="r-in"><span>  statistics <span class="op">=</span> <span class="va">statistics</span>, populations <span class="op">=</span> <span class="va">populations</span>, q <span class="op">=</span> <span class="fl">0.95</span>,</span></span>
<span class="r-in"><span>  compensationId <span class="op">=</span> <span class="fu">cellengine</span><span class="fu">::</span><span class="va"><a href="FILE_INTERNAL.html">FILE_INTERNAL</a></span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Returns a data.frame of statistics, including the file annotations.</span></span></span>
<span class="r-in"><span><span class="co"># Because percentOf is not specified, "percent" will be percent of parent.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Explicit syntax, using IDs instead of population and file names, and</span></span></span>
<span class="r-in"><span><span class="co"># specifying a scaleSetId:</span></span></span>
<span class="r-in"><span><span class="va">fcsFileIds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"9ab5c6d7a8cf24a5c4f9a6c2"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">statistics</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"percent"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">populationIds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"9ab5c6d7a8cf24a5c4f9face"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">scaleSetId</span> <span class="op">&lt;-</span> <span class="st">"9ab5c6d7a8cf24a5c4f9fdde"</span></span></span>
<span class="r-in"><span><span class="va">stats</span> <span class="op">&lt;-</span> <span class="fu">getStatistics</span><span class="op">(</span><span class="va">experimentId</span>,</span></span>
<span class="r-in"><span>  fcsFileIds <span class="op">=</span> <span class="va">fcsFileIds</span>,</span></span>
<span class="r-in"><span>  statistics <span class="op">=</span> <span class="va">statistics</span>, populationIds <span class="op">=</span> <span class="va">populationIds</span>,</span></span>
<span class="r-in"><span>  compensationId <span class="op">=</span> <span class="fu">cellengine</span><span class="fu">::</span><span class="va"><a href="UNCOMPENSATED.html">UNCOMPENSATED</a></span>, scaleSetId <span class="op">=</span> <span class="va">scaleSetId</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Percent of ungated:</span></span></span>
<span class="r-in"><span><span class="fu">getStatistics</span><span class="op">(</span><span class="va">experimentId</span>,</span></span>
<span class="r-in"><span>  fcsFileIds <span class="op">=</span> <span class="va">fcsFileIds</span>, statistics <span class="op">=</span> <span class="va">statistics</span>,</span></span>
<span class="r-in"><span>  populationIds <span class="op">=</span> <span class="va">populationIds</span>, compensationId <span class="op">=</span> <span class="fu">cellengine</span><span class="fu">::</span><span class="va"><a href="UNCOMPENSATED.html">UNCOMPENSATED</a></span>,</span></span>
<span class="r-in"><span>  percentOf <span class="op">=</span> <span class="fu">cellengine</span><span class="fu">::</span><span class="va"><a href="UNGATED.html">UNGATED</a></span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Zach Bjornson, Gerrit Egnew.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

