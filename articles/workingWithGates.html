<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Working with Gates • cellengine</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Working with Gates">
<meta property="og:description" content="cellengine">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cellengine</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Working with Gates</h1>
            
      
      
      <div class="hidden name"><code>workingWithGates.Rmd</code></div>

    </div>

    
    
<div class="section level3">
<h3 id="gates-and-populations-in-cellengine">Gates and Populations in CellEngine<a class="anchor" aria-label="anchor" href="#gates-and-populations-in-cellengine"></a>
</h3>
<div class="section level4">
<h4 id="basics">Basics<a class="anchor" aria-label="anchor" href="#basics"></a>
</h4>
<p><strong>Gates</strong> are geometric shapes that define boundaries
within which events (cells) must be contained to be considered part of a
population. Gates may be any one of RectangleGate, PolygonGate,
EllipseGate, RangeGate, QuadrantGate or SplitGate. Each gate has a
<code>gid</code> value, explained below.</p>
<p>On a biological basis, <strong>populations</strong> are groups of
cells that are analyzed together. For example, you might have a “CD4+ T
cells” population. In CellEngine’s implementation, populations are gates
combined with Boolean operators. For example, “CD4+ T cells” might be
defined as
<code>{$and: [&lt;Singlets&gt;, &lt;T cells&gt;, &lt;CD4+&gt;]}</code>,
where the values in <code>&lt;brackets&gt;</code> are the
<code>gid</code> values for those gates. Any of <code>$and</code>,
<code>$or</code>, <code>$not</code> and <code>$xor</code> can be used,
but note that the CellEngine UI cannot display certain complex
populations.</p>
<p>Populations have two additional parameters of note besides their
gates:</p>
<ul>
<li><p><code>parentId</code> - This is used to construct the
hierarchy.</p></li>
<li>
<p><code>terminalGateGid</code> - This is an optional parameter
that, in a typical, step-wise hierarchy, indicates the <em>one</em> gate
that distinguishes a population from its parent. For example, given the
hierarchy <em>Ungated &gt; Singlets &gt; T cells</em>, the populations
would look like this:</p>
<pre><code>{
  name: "Ungated",
  _id: null,
  gates: '{"$and": []}',
  terminalGateGid: null,
  parentId: null
}

{
  name: "Singlets",
  _id: "64daccf0ff756d82e41155ba",
  gates: '{"$and": ["&lt;singlets GID&gt;"]}',
  terminalGateGid: "&lt;singlets GID&gt;",
  parentId: null
}

{
  name: "T cells",
  _id: "64daccf0ff756d82e41155bb",
  gates: '{"$and": ["&lt;singlets GID&gt;", "&lt;T cells GID&gt;"]}',
  terminalGateGid: "&lt;T cells GID&gt;",
  parentId: "64daccf0ff756d82e41155ba"
}</code></pre>
<p>Boolean populations that don’t have a single gate that distinguishes
them from their parent have this value set to
<code>NULL</code>.</p>
</li>
</ul>
</div>
<div class="section level4">
<h4 id="gate-tailoring">Gate tailoring<a class="anchor" aria-label="anchor" href="#gate-tailoring"></a>
</h4>
<p>CellEngine allows each FCS file to have a unique gate geometry by
<strong>“tailoring” gates</strong> per-file. Tailored gates exist in a
group. Within a group, there’s the global gate, which is used for any
FCS file that does not have a file-specific gate; and there are zero or
more tailored gates, each of which is used for a specific FCS file. All
gates in the group have the same <code>gid</code> (group ID) value. The
global gate has an <code>fcsFileId</code> value of <code>NA</code>, and
the file-specific gates have <code>fcsFileId</code> values set to the
<code>_id</code> of their corresponding FCS file.</p>
<p><strong>Compound gates (quadrant and split)</strong> are made up of
“sectors.” Quadrant gates have four sectors (upper-right, upper-left,
lower-left, lower-right) and split gates have two sectors (left and
right). In addition to the top-level <code>gid</code> (like simple
gates), these gates have <code>model.gids</code> and <code>names</code>
lists that specify the group ID and name for each sector, in the order
shown above. Populations using compound gates must reference these
sector group IDs.</p>
<hr>
<p>The above is all you need to know to get started with creating gates
with the CellEngine R Toolkit, but the CellEngine API documentation for
<a href="https://docs.cellengine.com/api/#gates" class="external-link">gates</a> and <a href="https://docs.cellengine.com/api/#populations" class="external-link">populations</a> has
more detailed information and examples.</p>
</div>
</div>
<div class="section level3">
<h3 id="creating-a-simple-gate-and-population">Creating a simple gate and population<a class="anchor" aria-label="anchor" href="#creating-a-simple-gate-and-population"></a>
</h3>
<p>First let’s create a basic polygon gate.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st">"cellengine"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/authenticate.html">authenticate</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># prompts for username and password</span></span>
<span></span>
<span><span class="co"># Get an existing experiment called "My experiment"</span></span>
<span><span class="va">experiment</span> <span class="op">=</span> <span class="fu"><a href="../reference/getExperiment.html">getExperiment</a></span><span class="op">(</span><span class="fu"><a href="../reference/byName.html">byName</a></span><span class="op">(</span><span class="st">"My experiment"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">res</span> <span class="op">=</span> <span class="fu"><a href="../reference/createPolygonGate.html">createPolygonGate</a></span><span class="op">(</span></span>
<span>  experimentId<span class="op">=</span><span class="va">experiment</span><span class="op">$</span><span class="va">`_id`</span>,</span>
<span>  <span class="st">"FSC-A"</span>, <span class="st">"FSC-H"</span>, <span class="co"># the X and Y channels</span></span>
<span>  <span class="st">"my gate"</span>, <span class="co"># the gate name</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span> <span class="co"># the vertices</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">37836.07</span>, <span class="fl">971.51</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1588732.12</span>, <span class="fl">154.646</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">8139.405</span>, <span class="fl">664.78</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">9441.949</span>, <span class="fl">781.32</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  createPopulation <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  parentPopulationId <span class="op">=</span> <span class="fu">cellengine</span><span class="fu">::</span><span class="va"><a href="../reference/UNGATED.html">UNGATED</a></span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Two things to observe:</p>
<ul>
<li><p>We used <code>createPopulation = TRUE</code> and
<code>parentPopulationId = cellengine::UNGATED</code>. This tells
CellEngine to create a corresponding population for the gate at the root
level, under “Ungated”. The <code>res</code> object contains
<code>res$gate</code> and <code>res$population</code> members, so you
can access both the created gate and created population.</p></li>
<li>
<p>The gate coordinates are in “scaled data space.” That means that
the scale function that is used to show the data in CellEngine (i.e.,
linear, log or arcsinh) also needs to be applied to the gate
coordinates. You can see what scale is in used by clicking “edit scales”
in CellEngine, or by calling <code><a href="../reference/getScaleSets.html">getScaleSets()</a></code> in the R
toolkit.</p>
<p>You can use the toolkit’s <code><a href="../reference/applyScale.html">applyScale()</a></code> function to
convert from raw data space to scaled data space.</p>
</li>
</ul>
<p>To create the next gate and population in the hierarchy, below “my
gate”, repeat the above, but set
<code>parentPopulationId = byName("my gate")</code> or
<code>parentPopulationId = res$population$`_id`</code>.</p>
</div>
<div class="section level3">
<h3 id="creating-a-set-of-tailored-gates">Creating a set of tailored gates<a class="anchor" aria-label="anchor" href="#creating-a-set-of-tailored-gates"></a>
</h3>
<p>First we’re going to make the global gate. This is the same as above,
except we’ll add <code>tailoredPerFile = TRUE</code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">=</span> <span class="fu"><a href="../reference/createPolygonGate.html">createPolygonGate</a></span><span class="op">(</span></span>
<span>  experimentId<span class="op">=</span><span class="va">experiment</span><span class="op">$</span><span class="va">`_id`</span>,</span>
<span>  <span class="st">"FSC-A"</span>, <span class="st">"FSC-H"</span>,</span>
<span>  <span class="st">"my other gate"</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">37836.07</span>, <span class="fl">971.51</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1588732.12</span>, <span class="fl">154.646</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">8139.405</span>, <span class="fl">664.78</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">9441.949</span>, <span class="fl">781.32</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  createPopulation <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  parentPopulationId <span class="op">=</span> <span class="fu"><a href="../reference/byName.html">byName</a></span><span class="op">(</span><span class="st">"singlets"</span><span class="op">)</span>,</span>
<span>  tailoredPerFile <span class="op">=</span> <span class="cn">TRUE</span> <span class="co"># &lt;-- added</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Now we’re going to make a tailored gate:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res2</span> <span class="op">=</span> <span class="fu"><a href="../reference/createPolygonGate.html">createPolygonGate</a></span><span class="op">(</span></span>
<span>  experimentId<span class="op">=</span><span class="va">experiment</span><span class="op">$</span><span class="va">`_id`</span>,</span>
<span>  <span class="st">"FSC-A"</span>, <span class="st">"FSC-H"</span>,</span>
<span>  <span class="st">"my other gate"</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">12345</span>, <span class="fl">900</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">160002</span>, <span class="fl">175</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">8000</span>, <span class="fl">750</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">9410</span>, <span class="fl">800</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  gid <span class="op">=</span> <span class="va">res</span><span class="op">$</span><span class="va">gate</span><span class="op">$</span><span class="va">gid</span>, <span class="co"># &lt;-- added</span></span>
<span>  tailoredPerFile <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  fcsFileId <span class="op">=</span> <span class="fu"><a href="../reference/byName.html">byName</a></span><span class="op">(</span><span class="st">"file1.fcs"</span><span class="op">)</span> <span class="co"># &lt;-- added</span></span>
<span>  <span class="co"># createPopulation is FALSE or omitted</span></span>
<span>  <span class="co"># parentPopulationId is omitted</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Notice:</p>
<ul>
<li>We set <code>gid = res$gate$gid</code> so that this new gate will be
in the same gate group as the gate we created in the previous step.</li>
<li>We added <code>fcsFileId = byName("file1.fcs")</code>. This creates
a gate specific to that file.</li>
<li>We removed <code>createPopulation</code> and
<code>parentPopulationId</code> because we’re not creating a population
again; we’re just creating a gate tailored to this file.</li>
<li>The gate vertices are different from the global gate.</li>
<li>The channels and name are the same as the global gate. CellEngine
currently doesn’t strictly require that tailored gates have the same
name and channels; it’s up to the user to ensure the same values are
used.</li>
</ul>
<p>Now if you open CellEngine and flip through the FCS files in this
experiment, you should see the file-specific gates being used.</p>
</div>
<div class="section level3">
<h3 id="converting-to-and-from-flowcore-gates">Converting to and from flowCore gates<a class="anchor" aria-label="anchor" href="#converting-to-and-from-flowcore-gates"></a>
</h3>
<p>CellEngine has support for converting ellipse, polygon and rectangle
gates to and from flowCore gates. <a href="https://github.com/cellengine/cellengine-r-toolkit/issues/57" class="external-link">More
gate types will be supported eventually.</a></p>
<p>Given a flowCore gate:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rectGate</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/flowCore/man/rectangleGate-class.html" class="external-link">rectangleGate</a></span><span class="op">(</span></span>
<span>  filterId <span class="op">=</span> <span class="st">"Gate 1"</span>,</span>
<span>  <span class="st">"FL1-H"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">12</span><span class="op">)</span>, <span class="st">"FL2-H"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">12</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>We can add it to a CellEngine experiment as follows:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/fromFlowCore.html">fromFlowCore</a></span><span class="op">(</span><span class="va">rectGate</span>, experimentId <span class="op">=</span> <span class="fu"><a href="../reference/byName.html">byName</a></span><span class="op">(</span><span class="st">"my experiment"</span><span class="op">)</span>, name <span class="op">=</span> <span class="st">"my gate"</span><span class="op">)</span></span>
<span><span class="co"># "my gate" should now exist in the CellEngine experiment.</span></span></code></pre></div>
<p><code><a href="../reference/fromFlowCore.html">fromFlowCore()</a></code> will pass <code>...</code> arguments on
to the <code>create__Gate()</code> function, so you can, for example,
create a population by passing
<code>createPopulation = TRUE, parentPopulationId = byName("parent")</code>,
or tailor the gate by passing
<code>tailoredPerFile = TRUE, fcsFileId = byName("myfile.fcs")</code>.</p>
<p>Similarly, you can convert a CellEngine gate to flowCore:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ceGate</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getGate.html">getGate</a></span><span class="op">(</span>experimentId <span class="op">=</span> <span class="fu"><a href="../reference/byName.html">byName</a></span><span class="op">(</span><span class="st">"my experiment"</span><span class="op">)</span>, gateId <span class="op">=</span> <span class="fu"><a href="../reference/byName.html">byName</a></span><span class="op">(</span><span class="st">"singlets"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">fcGate</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/toFlowCore.html">toFlowCore</a></span><span class="op">(</span><span class="va">ceGate</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="creating-complex-populations">Creating complex populations<a class="anchor" aria-label="anchor" href="#creating-complex-populations"></a>
</h3>
<p>Using <code>createPopulation = TRUE</code> works to create common,
step-wise hierarchies. What if you want to make a “not” or “or”
population?</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Given GIDs from the gate creation procedures above:</span></span>
<span><span class="va">singletsGid</span> <span class="op">=</span> <span class="st">"64daccf0ff756d82e4115588"</span> <span class="co"># the Singlets gate</span></span>
<span><span class="va">cd4Gid</span> <span class="op">=</span> <span class="st">"64daccf0ff756d82e4115599"</span> <span class="co"># the CD4+ gate</span></span>
<span><span class="va">il2gid</span> <span class="op">=</span> <span class="st">"64daccf0ff756d82e41155aa"</span> <span class="co"># the IL2+ gate</span></span>
<span><span class="va">il4gid</span> <span class="op">=</span> <span class="st">"64daccf0ff756d82e41155ab"</span> <span class="co"># the IL4+ gate</span></span>
<span><span class="co"># Create an "or(IL2+, IL4+)" population below Singlets &gt; CD4+:</span></span>
<span><span class="fu"><a href="../reference/createPopulation.html">createPopulation</a></span><span class="op">(</span></span>
<span>  experimentId <span class="op">=</span> <span class="fu"><a href="../reference/byName.html">byName</a></span><span class="op">(</span><span class="st">"my experiment"</span><span class="op">)</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"or(IL2+, IL4+)"</span>,</span>
<span>  gates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">'{"$and": ["%s", "%s", {"$or": ["%s", "%s"]}]}'</span>,</span>
<span>                  <span class="va">singletsGid</span>, <span class="va">cd4Gid</span>, <span class="va">il2gid</span>, <span class="va">il4gid</span><span class="op">)</span>,</span>
<span>  terminalGateGid <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parentId <span class="op">=</span> <span class="fu"><a href="../reference/byName.html">byName</a></span><span class="op">(</span><span class="st">"CD4+"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Notice:</p>
<ul>
<li>We set <code>terminalGateGid = NULL</code>. As described under <a href="#basics">basics</a>, this property is set to <code>NULL</code> for
Boolean populations.</li>
<li>The <code>gates</code> property is set to a JSON string built up of
Boolean operators and GIDs. It can be extremely difficult to get R to
convert lists and vectors to the expected JSON; you can try to use
<code>jsonlite</code> (especially <code><a href="https://rdrr.io/pkg/jsonlite/man/unbox.html" class="external-link">jsonlite::unbox()</a></code>), or
you can construct strings manually.</li>
</ul>
</div>
<div class="section level3">
<h3 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h3>
<ul>
<li><a href="https://docs.cellengine.com/api/#gates" class="external-link">CellEngine API
documentation for gates</a></li>
<li><a href="https://docs.cellengine.com/api/#populations" class="external-link">CellEngine
API documentation for populations</a></li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Zach Bjornson, Gerrit Egnew.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
